The Best Quiche Lorraine

Ingredients
1 cup all-purpose flour, plus more for dusting (see Cook's Note)
Kosher salt 
1 stick (8 tablespoons) cold unsalted butter, cut into small pieces 
3 to 5 tablespoons ice water 
1 tablespoon unsalted butter
1 small yellow onion, very thinly sliced 
Kosher salt and freshly ground black pepper 
4 ounces slab bacon, cut into 1/2-inch pieces 
2 teaspoons fresh thyme leaves 
1/2 cup shredded Gruyere (about 2 ounces) 
1 cup heavy cream 
2 large eggs 

Directions
For the pastry crust: Pulse the flour and 1/2 teaspoon salt in a food processor until combined. Add the butter and pulse until the flour looks like cornmeal. Sprinkle in 3 tablespoons ice water and pulse until the dough begins to come together. Pinch the dough with your fingers; if it doesn't hold together, add up to 2 more tablespoons ice water, 1 tablespoon at a time, and pulse again.
Transfer the dough to a sheet of plastic wrap and pat into a disc. Wrap tightly and refrigerate until firm, at least 1 hour and preferably overnight. 
Lightly flour a work surface, then roll the dough into an 11-inch round, about 1/8 inch thick. Center the dough in a 9-inch fluted tart pan with removable bottom, with an even overhang of dough all around. Press the dough into the edges of the pan and the fluted sides. Roll the rolling pin over the top to cut off the extra dough (discard the extra). Poke the bottom and sides all over with a fork. Chill until completely cold, about 30 minutes. 
Meanwhile, position an oven rack in the lower third of the oven and preheat to 375 degrees F. 
Press a piece of parchment over the chilled crust, then fill with pie weights, raw beans or rice. Put the pan on a baking sheet. Bake until the crust is set and golden around the edges, about 40 minutes. Carefully remove the parchment and weights. Return to the oven and bake until the crust is dry and slightly golden, about 15 minutes more. Let cool completely, about 30 minutes. 
For the filling: Combine the butter, onion, 1/2 teaspoon salt and 1/2 cup water in a medium skillet over medium-low heat. Cook, stirring occasionally, until the onions are completely softened and all the water has evaporated, about 30 minutes.  
Meanwhile, cook the bacon in a separate medium skillet over medium-low heat, stirring, until the fat has rendered and the bacon is crisp, 10 to 15 minutes.  
When the onions have cooked for 30 minutes, add the bacon using a slotted spoon, then stir in 1 teaspoon of the thyme and 1/2 teaspoon pepper. Spread the onion mixture in the bottom of the crust and sprinkle with the Gruyere. Whisk together the cream, eggs and 1/2 teaspoon salt in a medium bowl until combined. Pour the cream mixture over the filling in the crust and top with the remaining 1 teaspoon thyme.  
Bake the quiche on the baking sheet until set and golden, about 30 minutes. Let cool at least 30 minutes before serving.